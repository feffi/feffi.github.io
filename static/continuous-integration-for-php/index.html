
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>continuous integration for PHP</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="../assets/built/screen.css%3Fv=06d951995b.css">

    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <link rel="canonical" href="index.html">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="amp/index.html">
    
    <meta property="og:site_name" content="feffi">
    <meta property="og:type" content="article">
    <meta property="og:title" content="continuous integration for PHP">
    <meta property="og:description" content="Today I will introduce a fairly often discussed way of setting up a continuous integration infrastructure for PHP using jenkins as build server. Jenkins despite the old fashioned Java way is also capable of managing PHP projects, thus generating documentation and various code metrics as well as patrolling your code">
    <meta property="og:url" content="https://feffi.org/continuous-integration-for-php/">
    <meta property="og:image" content="https://feffi.org/content/images/2017/08/Bildschirmfoto-2017-08-21-um-20.07.17.png">
    <meta property="article:published_time" content="2013-06-14T14:17:03.000Z">
    <meta property="article:modified_time" content="2017-08-21T18:07:47.000Z">
    <meta property="article:tag" content="build">
    <meta property="article:tag" content="checkstyle">
    <meta property="article:tag" content="ci">
    <meta property="article:tag" content="CloverPHP">
    <meta property="article:tag" content="continuous integration">
    <meta property="article:tag" content="jDepend">
    <meta property="article:tag" content="jenkins">
    <meta property="article:tag" content="jUnit">
    <meta property="article:tag" content="metrics">
    <meta property="article:tag" content="php">
    <meta property="article:tag" content="PHP-CodeSniffer">
    <meta property="article:tag" content="PHPunit">
    <meta property="article:tag" content="PMd">
    <meta property="article:tag" content="server">
    <meta property="article:tag" content="unit testing">
    <meta property="article:tag" content="units">
    <meta property="article:tag" content="xUnit">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="continuous integration for PHP">
    <meta name="twitter:description" content="Today I will introduce a fairly often discussed way of setting up a continuous integration infrastructure for PHP using jenkins as build server. Jenkins despite the old fashioned Java way is also capable of managing PHP projects, thus generating documentation and various code metrics as well as patrolling your code">
    <meta name="twitter:url" content="https://feffi.org/continuous-integration-for-php/">
    <meta name="twitter:image" content="https://feffi.org/content/images/2017/08/Bildschirmfoto-2017-08-21-um-20.07.17.png">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="feffi">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="build, checkstyle, ci, CloverPHP, continuous integration, jDepend, jenkins, jUnit, metrics, php, PHP-CodeSniffer, PHPunit, PMd, server, unit testing, units, xUnit">
    <meta name="twitter:site" content="@feffi1">
    <meta property="og:image:width" content="488">
    <meta property="og:image:height" content="156">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "feffi",
        "logo": {
            "@type": "ImageObject",
            "url": "https://feffi.org/favicon.ico",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "feffi",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/87a6f83874350b4f04d5731b450585f1?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "https://feffi.org/author/feffi/",
        "sameAs": []
    },
    "headline": "continuous integration for PHP",
    "url": "https://feffi.org/continuous-integration-for-php/",
    "datePublished": "2013-06-14T14:17:03.000Z",
    "dateModified": "2017-08-21T18:07:47.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://feffi.org/content/images/2017/08/Bildschirmfoto-2017-08-21-um-20.07.17.png",
        "width": 488,
        "height": 156
    },
    "keywords": "build, checkstyle, ci, CloverPHP, continuous integration, jDepend, jenkins, jUnit, metrics, php, PHP-CodeSniffer, PHPunit, PMd, server, unit testing, units, xUnit",
    "description": "Today I will introduce a fairly often discussed way of setting up a continuous integration infrastructure for PHP using jenkins as build server. Jenkins despite the old fashioned Java way is also capable of managing PHP projects, thus generating documentation and various code metrics as well as patrolling your code",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://feffi.org/"
    }
}
    </script>

    <meta name="generator" content="Ghost 1.17">
    <link rel="alternate" type="application/rss+xml" title="feffi" href="../rss/index.html">

</head>
<body class="post-template tag-build tag-checkstyle tag-ci tag-cloverphp tag-continuous-integration tag-jdepend tag-jenkins tag-junit tag-metrics tag-php tag-php-codesniffer tag-phpunit tag-pmd tag-server tag-unit-testing tag-units tag-xunit">

    <div class="site-wrapper">

        

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
                <a class="site-nav-logo" href="../">feffi</a>
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="../">Home</a></li>
</ul>

    </div>
    <div class="site-nav-right">
        <div class="social-links">
                <a class="social-link social-link-tw" href="https://twitter.com/feffi1" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg>
</a>
        </div>
            <a class="rss-button" href="http://cloud.feedly.com/#subscription/feed/https://feffi.org/rss/" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"></circle><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"></path></svg>
</a>
    </div>
</nav>
    </div>
</header>


<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full post tag-build tag-checkstyle tag-ci tag-cloverphp tag-continuous-integration tag-jdepend tag-jenkins tag-junit tag-metrics tag-php tag-php-codesniffer tag-phpunit tag-pmd tag-server tag-unit-testing tag-units tag-xunit ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="2013-06-14">14 June 2013</time>
                        <span class="date-divider">/</span> <a href="../tag/build/">build</a>
                </section>
                <h1 class="post-full-title">continuous integration for PHP</h1>
            </header>

            <figure class="post-full-image" style="background-image: url(../content/images/2017/08/Bildschirmfoto-2017-08-21-um-20.07.17.png)">
            </figure>

            <section class="post-full-content">
                <div class="kg-card-markdown"><p>Today I will introduce a fairly often discussed way of setting up a continuous integration infrastructure for <a href="http://php.net" title="PHP Homepage">PHP</a> using <a href="http://jenkins-ci.org" title="jenkins Homepage">jenkins</a> as build server. <a href="http://jenkins-ci.org" title="jenkins Homepage">Jenkins</a> despite the old fashioned Java way is also capable of managing <a href="http://php.net" title="PHP Homepage">PHP</a> projects, thus generating documentation and various code metrics as well as patrolling your code for malicious coding.</p>
<p>The tools we use in this tutorial will help to improve the managed <a href="http://php.net" title="PHP Homepage">PHP</a> project by leveraging them to a stable continuous integration workflow.</p>
<h2 id="butfirstthingsfirst">But first things first</h2>
<p>What we will do is install a <a href="http://jenkins-ci.org" title="jenkins Homepage">jenkins</a> build server, configured to build a common <a href="http://php.net" title="PHP Homepage">PHP</a> project. <a href="http://jenkins-ci.org" title="jenkins Homepage">Jenkins</a> then uses its plugin infrastructure to maintain the code through various code checks:</p>
<ul>
<li><a href="http://checkstyle.sourceforge.net">Checkstyle</a> (for processing <a href="http://pear.php.net/package/PHP_CodeSniffer/redirected">PHP_CodeSniffer</a> logfiles in <a href="http://checkstyle.sourceforge.net">Checkstyle</a> format)</li>
<li><a href="https://wiki.jenkins-ci.org/display/JENKINS/Clover+PHP+Plugin">Clover PHP</a> (for processing <a href="https://github.com/sebastianbergmann/phpunit/">PHPUnit</a> code coverage xml output)</li>
<li><a href="https://wiki.jenkins-ci.org/display/JENKINS/DRY+Plugin">DRY</a> (for processing phpcpd logfiles in <a href="http://pmd.sourceforge.net/pmd-5.0.4/cpd.html">PMD-CPD</a> format)</li>
<li><a href="https://wiki.jenkins-ci.org/display/JENKINS/HTML+Publisher+Plugin">HTML Publisher</a> (for publishing the <a href="https://github.com/sebastianbergmann/phpunit/">PHPUnit</a> code coverage report, for instance)</li>
<li><a href="http://clarkware.com/software/JDepend.html">JDepend</a> (for processing <a href="http://pdepend.org">PHP_Depend</a> logfiles in JDepend format)</li>
<li><a href="https://wiki.jenkins-ci.org/display/JENKINS/Plot+Plugin">Plot</a> (for processing <a href="https://github.com/sebastianbergmann/phploc">phploc</a> CSV output)</li>
<li><a href="http://pmd.sourceforge.net">PMD</a> (for processing <a href="http://phpmd.org">PHPMD</a> logfiles in PMD format)</li>
<li><a href="https://wiki.jenkins-ci.org/display/JENKINS/Violations">Violations</a> (for processing various logfiles)</li>
<li><a href="https://wiki.jenkins-ci.org/display/JENKINS/xUnit+Plugin">xUnit</a> (for processing <a href="https://github.com/sebastianbergmann/phpunit/">PHPUnit</a> logfiles in <a href="http://junit.org">JUnit</a> format)</li>
</ul>
<h2 id="jenkinsinstallation">Jenkins installation</h2>
<p>At first a stable installation of <a href="http://jenkins-ci.org" title="jenkins Homepage">jenkins</a> is necessary to set up a good foundation to build on. I will use <a href="http://mxcl.github.com/homebrew/" title="Homebrew">Homebrew</a> to install the latest <a href="http://jenkins-ci.org" title="jenkins Homepage">jenkins</a>:<br>
<a href="https://gist.github.com/feffi/5780316">https://gist.github.com/feffi/5780316</a><br>
In the next step I will install all necessary plugins via the <a href="http://jenkins-ci.org" title="jenkins Homepage">jenkins</a> CLI interface. It’s also possible to install the plugins via the web interface administration, but via CLI it’s a lot easier:<br>
<a href="https://gist.github.com/feffi/5780334">https://gist.github.com/feffi/5780334</a><br>
After the installation is done, your build server is ready to run.</p>
<h2 id="requiredphptools">Required PHP tools</h2>
<p>As for <a href="http://jenkins-ci.org" title="jenkins Homepage">jenkins</a>, also for PHP are some required tools are mandatory. All required tools can be installed through <a href="http://pear.php.net/">PEAR</a>, the <a href="http://pear.php.net/">PHP Extension and Application Repository</a>. As the installation of this infrastructure will run on Mac OS X 18.8.4, we first need to upgrade <a href="http://pear.php.net/"> by <code>sudo pear upgrade PEAR</code>. To install the required tools simply use PEAR to install them:<br>
https://gist.github.com/feffi/5781297</a></p>
<h2 id="phpprojecttemplate">PHP project template</h2>
<p>Next we need to tell jenkins how to set up <a href="http://php.net" title="PHP Homepage">PHP</a> project using a template to build all needed release artifacts. The following ant <code>build.xml</code> can be used to archive this:<br>
<a href="https://gist.github.com/feffi/5781320">https://gist.github.com/feffi/5781320</a><br>
This script need to be copied to your jenkins jobs directory located at <code>/Users/&lt;your-user-name&gt;/.jenkins/jobs/</code><br>
<a href="https://gist.github.com/feffi/5781521">https://gist.github.com/feffi/5781521</a></p>
<p>After those commands are done, href=”<a href="http://jenkins-ci.org">http://jenkins-ci.org</a>” target=”_blank”&gt;jenkins should show us a deaktivated project called <em>ci-template</em>. This template can now be cloned to new <a href="http://php.net" title="PHP Homepage">PHP</a> projects by simple calling the href=”<a href="http://jenkins-ci.org">http://jenkins-ci.org</a>” target=”_blank”&gt;jenkins CLI:<br>
<a href="https://gist.github.com/feffi/5781577">https://gist.github.com/feffi/5781577</a><br>
A new job <code>myProject</code> should appear in your project list.</p>
</div>
            </section>


            <footer class="post-full-footer">

                <section class="author-card">
                        <img class="author-profile-image" src="https://www.gravatar.com/avatar/87a6f83874350b4f04d5731b450585f1?s=250&amp;d=mm&amp;r=x" alt="feffi">
                    <section class="author-card-content">
                        <h4 class="author-card-name"><a href="../author/feffi/">feffi</a></h4>
                            <p>Read <a href="../author/feffi/">more posts</a> by this author.</p>
                    </section>
                </section>
                <div class="post-full-footer-right">
                    <a class="author-card-button" href="../author/feffi/">Read More</a>
                </div>

            </footer>


        </article>

    </div>
</main>

<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
<script>console.error("The {{get}} helper is not available. The Public API flag must be enabled in labs if you wish to use the {{get}} helper. See https://help.ghost.org/hc/en-us/articles/115000301672-Public-API-Beta");</script>
                <article class="post-card post tag-css tag-design tag-extension tag-feffi tag-fontawesome tag-git tag-github tag-icons tag-layout tag-mediawiki tag-mit tag-wiki">
        <a class="post-card-image-link" href="../wiki-awesome/">
            <div class="post-card-image" style="background-image: url(../content/images/2017/08/fontawesome.jpg)"></div>
        </a>
    <div class="post-card-content">
        <a class="post-card-content-link" href="../wiki-awesome/">
            <header class="post-card-header">
                    <span class="post-card-tags">CSS</span>
                <h2 class="post-card-title">wiki? awesome!</h2>
            </header>
            <section class="post-card-excerpt">
                <p>Heute habe ich ein altes Projekt wiedergefunden! Wer kennt es nicht: FontAwesome! Seit FontAwesome heraus gegeben worden ist, ist es eines der Projekte, die das Webdesign einer ganzen Generation geprägt haben. Um auch</p>
            </section>
        </a>
        <footer class="post-card-meta">
                <img class="author-profile-image" src="https://www.gravatar.com/avatar/87a6f83874350b4f04d5731b450585f1?s=250&amp;d=mm&amp;r=x" alt="feffi">
            <span class="post-card-author"><a href="../author/feffi/">feffi</a></span>
        </footer>
    </div>
</article>

                <article class="post-card post tag-brew tag-doctor tag-error tag-homebrew tag-import tag-node4">
        <a class="post-card-image-link" href="../brew-error-failed-to-import-node4/">
            <div class="post-card-image" style="background-image: url(../content/images/2017/08/node-homebrew.png)"></div>
        </a>
    <div class="post-card-content">
        <a class="post-card-content-link" href="../brew-error-failed-to-import-node4/">
            <header class="post-card-header">
                    <span class="post-card-tags">brew</span>
                <h2 class="post-card-title">brew Error: Failed to import: node4</h2>
            </header>
            <section class="post-card-excerpt">
                <p>If you sporadically like me test your Homebrew installation with brew doctor, sometimes you run into errors and glitches. One of these errors is Error: Failed to import: node4 This can be fixed</p>
            </section>
        </a>
        <footer class="post-card-meta">
                <img class="author-profile-image" src="https://www.gravatar.com/avatar/87a6f83874350b4f04d5731b450585f1?s=250&amp;d=mm&amp;r=x" alt="feffi">
            <span class="post-card-author"><a href="../author/feffi/">feffi</a></span>
        </footer>
    </div>
</article>

        </div>
    </div>
</aside>

<div class="floating-header">
    <div class="floating-header-logo">
        <a href="../">
            <span>feffi</span>
        </a>
    </div>
    <span class="floating-header-divider">—</span>
    <div class="floating-header-title">continuous integration for PHP</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"></path>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=continuous%20integration%20for%20PHP&amp;url=https://feffi.org/continuous-integration-for-php/" onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg>
        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://feffi.org/continuous-integration-for-php/" onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"></path></svg>
        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>




        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="../">feffi</a> © 2017</section>
                <nav class="site-footer-nav">
                    <a href="../">Latest Posts</a>
                    
                    <a href="https://twitter.com/feffi1" target="_blank" rel="noopener">Twitter</a>
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>


    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="../assets/js/jquery.fitvids.js%3Fv=06d951995b"></script>


    <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>


    

</body>
