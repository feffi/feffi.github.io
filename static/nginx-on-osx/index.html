
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>nginx on osx</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="../assets/built/screen.css%3Fv=06d951995b.css">

    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <link rel="canonical" href="index.html">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="amp/index.html">
    
    <meta property="og:site_name" content="feffi">
    <meta property="og:type" content="article">
    <meta property="og:title" content="nginx on osx">
    <meta property="og:description" content="There are many howtos and tutorials on how to install nginx on osx. I do not intend to clone one of these manuscripts, but to write down a quick and dirty approach on how to get nginx up and running fast. Let’s start! Install newest XCode Install Command line">
    <meta property="og:url" content="https://feffi.org/nginx-on-osx/">
    <meta property="og:image" content="https://feffi.org/content/images/2017/08/nginx-6.png">
    <meta property="article:published_time" content="2013-02-20T18:00:58.000Z">
    <meta property="article:modified_time" content="2017-08-21T18:55:55.000Z">
    <meta property="article:tag" content="http">
    <meta property="article:tag" content="lamp">
    <meta property="article:tag" content="mariadb">
    <meta property="article:tag" content="mysql">
    <meta property="article:tag" content="nginx">
    <meta property="article:tag" content="osx">
    <meta property="article:tag" content="php">
    <meta property="article:tag" content="php-fpm">
    <meta property="article:tag" content="server">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="nginx on osx">
    <meta name="twitter:description" content="There are many howtos and tutorials on how to install nginx on osx. I do not intend to clone one of these manuscripts, but to write down a quick and dirty approach on how to get nginx up and running fast. Let’s start! Install newest XCode Install Command line">
    <meta name="twitter:url" content="https://feffi.org/nginx-on-osx/">
    <meta name="twitter:image" content="https://feffi.org/content/images/2017/08/nginx-6.png">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="feffi">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="http, lamp, mariadb, mysql, nginx, osx, php, php-fpm, server">
    <meta name="twitter:site" content="@feffi1">
    <meta property="og:image:width" content="1330">
    <meta property="og:image:height" content="562">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "feffi",
        "logo": {
            "@type": "ImageObject",
            "url": "https://feffi.org/favicon.ico",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "feffi",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/87a6f83874350b4f04d5731b450585f1?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "https://feffi.org/author/feffi/",
        "sameAs": []
    },
    "headline": "nginx on osx",
    "url": "https://feffi.org/nginx-on-osx/",
    "datePublished": "2013-02-20T18:00:58.000Z",
    "dateModified": "2017-08-21T18:55:55.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://feffi.org/content/images/2017/08/nginx-6.png",
        "width": 1330,
        "height": 562
    },
    "keywords": "http, lamp, mariadb, mysql, nginx, osx, php, php-fpm, server",
    "description": "There are many howtos and tutorials on how to install nginx on osx. I do not intend to clone one of these manuscripts, but to write down a quick and dirty approach on how to get nginx up and running fast. Let’s start! Install newest XCode Install Command line",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://feffi.org/"
    }
}
    </script>

    <meta name="generator" content="Ghost 1.17">
    <link rel="alternate" type="application/rss+xml" title="feffi" href="../rss/index.html">

</head>
<body class="post-template tag-http tag-lamp tag-mariadb tag-mysql tag-nginx tag-osx-2 tag-php tag-php-fpm tag-server">

    <div class="site-wrapper">

        

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
                <a class="site-nav-logo" href="../">feffi</a>
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="../">Home</a></li>
</ul>

    </div>
    <div class="site-nav-right">
        <div class="social-links">
                <a class="social-link social-link-tw" href="https://twitter.com/feffi1" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg>
</a>
        </div>
            <a class="rss-button" href="http://cloud.feedly.com/#subscription/feed/https://feffi.org/rss/" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"></circle><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"></path></svg>
</a>
    </div>
</nav>
    </div>
</header>


<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full post tag-http tag-lamp tag-mariadb tag-mysql tag-nginx tag-osx-2 tag-php tag-php-fpm tag-server ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="2013-02-20">20 February 2013</time>
                        <span class="date-divider">/</span> <a href="../tag/http/">http</a>
                </section>
                <h1 class="post-full-title">nginx on osx</h1>
            </header>

            <figure class="post-full-image" style="background-image: url(../content/images/2017/08/nginx-6.png)">
            </figure>

            <section class="post-full-content">
                <div class="kg-card-markdown"><p>There are many howtos and tutorials on how to install <a href="http://nginx.com/" title="nginx">nginx</a> on osx. I do not intend to clone one of these manuscripts, but to write down a quick and dirty approach on how to get <a href="http://nginx.com/" title="nginx">nginx</a> up and running fast. <em>Let’s start!</em></p>
<p>Install newest <a href="https://developer.apple.com/xcode/" title="XCode">XCode</a><br>
Install <a href="http://stackoverflow.com/questions/9329243/xcode-4-4-command-line-tools" title="Command line utilities">Command line tools via Xcode</a><br>
Install Homebrew</p>
<p>ruby &lt;(curl -fsSk <a href="https://raw.github.com/mxcl/homebrew/go">https://raw.github.com/mxcl/homebrew/go</a>) sudo chown -R <code>whoami</code> /usr/local brew update brew doctor</p>
<p>Apply Mountain Lion Fixes for Homebrew</p>
<p>sudo xcode-select -switch /Applications/Xcode.app/Contents/Developer</p>
<p>Install X11 v2.7.4+ from <a href="http://xquartz.macosforge.org/trac/wiki" title="xquartz">XQuartz</a></p>
<p>sudo ln -s /opt/X11 /usr/X11 nano /etc/profile PATH=/usr/local/bin:/usr/local/opt/php54/bin:$PATH</p>
<p>remove apache from startup</p>
<p>sudo launchctl unload -w /System/Library/LaunchDaemons/org.apache.httpd.plist</p>
<p>and install <a href="http://nginx.com/" title="nginx">nginx</a></p>
<p>(sudo gem install passenger) brew install nginx --with-webdav (--with-passenger) brew doctor (to check if all still fine in paradise!)</p>
<p>Make nginx log files visible in Console app</p>
<p>sudo mkdir /var/log/nginx</p>
<p>Create the following directorty to stop <code>/var/lib/nginx/speed failed (2: No such file or directory)</code> error</p>
<p>sudo mkdir /var/lib/nginx</p>
<p>install php</p>
<p>brew tap josegonzalez/homebrew-php brew tap homebrew/dupes brew install php54 --with-fpm --with-imap --with-mariadb chmod -R ug+w /usr/local/Cellar/php54/5.4.10/lib/php pear config-set php_ini /usr/local/etc/php/5.4/php.ini brew install php54-apc php54-geoip php54-http php54-mcrypt php54-memcache php54-memcached php54-oauth php54-pcntl php54-ssh2 php54-uuid</p>
<p>make php startup</p>
<p>mkdir -p ~/Library/LaunchAgents cp /usr/local/Cellar/php54/5.4.10/homebrew-php.josegonzalez.php54.plist ~/Library/LaunchAgents/ ln -sfv /usr/local/opt/php54/*.plist ~/Library/LaunchAgents launchctl load -w ~/Library/LaunchAgents/homebrew-php.josegonzalez.php54.plist</p>
<p>You may also need to edit the PHP plist to use the correct “UserName”</p>
<p>After that, configure PHP</p>
<p>and php-fpm params</p>
<p>and nginx global config</p>
<p>install nginx SSL certificates</p>
<p>cd /usr/local/etc/nginx/ mkdir ssl cd ssl openssl req -new -x509 -nodes -out server.crt -keyout server.key chmod 600 server.key</p>
<p>mimic debian site structure loading</p>
<p>mkdir /usr/local/etc/nginx/sites-available mkdir /usr/local/etc/nginx/sites-enabled cd /usr/local/etc/nginx/sites-available nano localhost.conf</p>
<p>enable global site</p>
<p>cd /usr/local/etc/nginx/sites-enabled ln -s /usr/local/etc/nginx/sites-available/minibunker.conf .</p>
<p>reload nginx</p>
<p>nginx -s reload</p>
<p>install the mariadb</p>
<p>brew install mariadb --enable-local-infile --with-archive-storage-engine --with-blackhole-storage-engine --use-llvm --env=std</p>
<p>Mountain Lion comes with php-fpm pre-installed, to ensure you are using the brew version you need to make sure <code>/sbin</code> is before <code>/usr/sbin</code> in your <code>PATH</code>:</p>
<p>PATH="/sbin:$PATH"</p>
<h4 id="done"><strong>Done!</strong></h4>
<h4 id="references">References</h4>
<ul>
<li><a href="http://www.group7even.com/blog/2012/02/23/installing-nginx-php-fpm-on-os-x-mountain-lion-10-8/">Install Nginx and PHP on OS X Mountain Lion (10.8) – Group 7even Blog</a></li>
<li><a href="http://learnaholic.me/2012/10/10/installing-nginx-in-mac-os-x-mountain-lion/"><span style="line-height: 1.7;">Installing nginx in Mac OS X Mountain Lion with homebrew – Learn-a-holic Geek Notes</span></a></li>
<li><span style="line-height: 1.7;"><a href="http://realityloop.com/blog/2012/07/03/nginx-mariadb-php-aegir-mac-os-x-optional-drush-5-works-mountain-lion">nginx / MariaDB / PHP / Aegir on Mac OS X with optional Drush 5 (works on Mountain Lion!)</a></span></li>
</ul>
</div>
            </section>


            <footer class="post-full-footer">

                <section class="author-card">
                        <img class="author-profile-image" src="https://www.gravatar.com/avatar/87a6f83874350b4f04d5731b450585f1?s=250&amp;d=mm&amp;r=x" alt="feffi">
                    <section class="author-card-content">
                        <h4 class="author-card-name"><a href="../author/feffi/">feffi</a></h4>
                            <p>Read <a href="../author/feffi/">more posts</a> by this author.</p>
                    </section>
                </section>
                <div class="post-full-footer-right">
                    <a class="author-card-button" href="../author/feffi/">Read More</a>
                </div>

            </footer>


        </article>

    </div>
</main>

<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
<script>console.error("The {{get}} helper is not available. The Public API flag must be enabled in labs if you wish to use the {{get}} helper. See https://help.ghost.org/hc/en-us/articles/115000301672-Public-API-Beta");</script>
                <article class="post-card post tag-bar tag-eclipse tag-green tag-infinitest tag-keep tag-self-management tag-tdd tag-test-driven tag-testing">
        <a class="post-card-image-link" href="../keep-the-bar-green/">
            <div class="post-card-image" style="background-image: url(../content/images/2017/08/615563733_1280x720.jpg)"></div>
        </a>
    <div class="post-card-content">
        <a class="post-card-content-link" href="../keep-the-bar-green/">
            <header class="post-card-header">
                    <span class="post-card-tags">bar</span>
                <h2 class="post-card-title">keep the bar green</h2>
            </header>
            <section class="post-card-excerpt">
                <p>After several years of professional development you might have your own processes of keeping track of work to be done. But is this an effective way of doing things? Are you open minded</p>
            </section>
        </a>
        <footer class="post-card-meta">
                <img class="author-profile-image" src="https://www.gravatar.com/avatar/87a6f83874350b4f04d5731b450585f1?s=250&amp;d=mm&amp;r=x" alt="feffi">
            <span class="post-card-author"><a href="../author/feffi/">feffi</a></span>
        </footer>
    </div>
</article>

                <article class="post-card post tag-costs tag-development tag-injection tag-jboss tag-jrebel tag-rapid-development tag-rapid-prototyping tag-wasting-time no-image">
    <div class="post-card-content">
        <a class="post-card-content-link" href="../wasting-time-with-jboss/">
            <header class="post-card-header">
                    <span class="post-card-tags">costs</span>
                <h2 class="post-card-title">wasting time with jboss</h2>
            </header>
            <section class="post-card-excerpt">
                <p>After several years of development in Java with the J2EE stack, sometimes it’s quite a PITA to develop against JBoss. Despite that JBoss is good at maintaining dependencies and runtime environments, being</p>
            </section>
        </a>
        <footer class="post-card-meta">
                <img class="author-profile-image" src="https://www.gravatar.com/avatar/87a6f83874350b4f04d5731b450585f1?s=250&amp;d=mm&amp;r=x" alt="feffi">
            <span class="post-card-author"><a href="../author/feffi/">feffi</a></span>
        </footer>
    </div>
</article>

        </div>
    </div>
</aside>

<div class="floating-header">
    <div class="floating-header-logo">
        <a href="../">
            <span>feffi</span>
        </a>
    </div>
    <span class="floating-header-divider">—</span>
    <div class="floating-header-title">nginx on osx</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"></path>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=nginx%20on%20osx&amp;url=https://feffi.org/nginx-on-osx/" onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg>
        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://feffi.org/nginx-on-osx/" onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"></path></svg>
        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>




        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="../">feffi</a> © 2017</section>
                <nav class="site-footer-nav">
                    <a href="../">Latest Posts</a>
                    
                    <a href="https://twitter.com/feffi1" target="_blank" rel="noopener">Twitter</a>
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>


    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="../assets/js/jquery.fitvids.js%3Fv=06d951995b"></script>


    <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>


    

</body>
